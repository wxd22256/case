<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // script的src  img的src   link   浏览器的url地址栏； ajax
        // XMLHttpRequest 是一个内置的类；
        //1. 创建了一个ajax的实例；
        let xhr = new XMLHttpRequest;
        console.log(xhr.readyState);
        //2.请求方式，请求路径，同步异步；
        xhr.open("get","11.复习.html",false);
        console.log(xhr.readyState);
        //3.监听readystate发生改变的方法；
        xhr.onreadystatechange=function(){
            // 如果是同步，只输出4；如果是异步会输出2 3 4；
            // 如果是同步，如果请求不完，不会执行这个回调，但是readyState也会发生2-->3-->4的变化，只是不能执行而已；等上面执行完，那么readyState已经变成了4；所以只会输出结果4；
            // readyState不同，说明请求进行到了不同的阶段；
            //console.log(xhr.readyState);
            if(xhr.readyState===4&&/^2\d{2}/.test(xhr.status)){
                // 说明数据已经传输到了客户端
            }
        }
        //4.发送请求
        xhr.send();
        // xhr.readyState : 0 1 2 3 4;代表了ajax不同的实例状态；
        // readyState :代表了该请求进行到了不同的阶段；
        // 0 : 创建ajax实例成功；
        // 1 : 确定好了请求的方式，请求的路径以及同步异步；
        // 2 : 服务器已经接受到了客户端的请求，并且把响应头传给了客户端；
        // 3 : 服务器正在向客户端发送数据
        // 4 ：客户端全部接受到了数据，那么状态变成4； 

    </script>
</body>
</html>