<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    // 内存： 浏览器解析页面会形成两个虚拟的内存；一个堆内存，一个是栈内存；
    // 栈内存： 1.提供代码运行环境  2. 存储基本数据类型值
    // 代码时从上到下，一行一行执行的；
    // var num = 100;
    // function fn(){}// fn=aabb11
    // var obj = {}// aabb22
    // // 堆栈内存 
    // console.log(num);// 100

//     var obj = {num:1}
//    var o = obj;
//    obj = nunll;

    // 堆内存回收：GC垃圾回收机制；在浏览器内置了一个gC程序，这个程序会每隔一段时间执行一次；
    // 1. 标记法：浏览器每隔一段时间要对所有的空间地址类型进行检测，检查该地址是否被占用；如果没有占用，那么久立即回收掉 

    // 2. IE计数法： 每当空间地址占用一次，该地址标识就会默认+1；如果不再占用，就会-1；如果标记计数为0；立即回收；


    // 栈内存回收==>作用域销毁；
    // 立即销毁
    // function fn(){
    //     var num =100;// 私有作用域
    //     var obj = {};// obj和空间地址存储到私有作用域，把对象中的键值对存储到堆内存；
    //     // 当作用域销毁以后，该空间地址对应的堆内存，不再占用，浏览器要对其回收；
    // }
    // fn();


    // 不销毁作用域
    // 1. 返回一个引用的数据类型值
    // 2. 返回的值需要被外界接受
    // var num =2;
    // function fn(){
    //     var num =1;
    //     return function(){
    //         console.log(num); // 1
    //     }
    //     return {}
    // }
    // var f = fn()
    // f();

    // 2. 如果当前作用域有个空间地址，被函数体外的东西占用着，那么这个栈内存就不能销毁；
    // function fn(){
    //     // oLis[i].onclick = function(){
    //     // }
    //     // var obj = {};
    //     // obj.a = function(){
            
    //     // }
    // }
    // fn()

    // 不销毁
    // var obj = {
    //     num:1,
    //     fn:(function(){
    //         // 不销毁
    //         return function(){

    //         }
    //     })()
    // }

    // 不立即销毁

    function fn(){
        return function(){

        }
    }
    fn()()

    


    
    
    
    </script>
</body>
</html>